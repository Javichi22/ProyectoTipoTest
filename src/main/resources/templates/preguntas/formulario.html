<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Crear Pregunta</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
</head>
<body>
<div class="container mt-5">
  <div class="card">
    <div class="card-header bg-primary text-white">
      <h3 class="mb-0">Crear Nueva Pregunta</h3>
    </div>
    <div class="card-body">
      <form th:action="@{/preguntas/guardar}" method="post">
        <!-- Tipo de Pregunta -->
        <div class="mb-4">
          <label for="tipoPregunta" class="form-label fw-bold">Tipo de Pregunta</label>
          <select id="tipoPregunta" name="tipoPregunta" class="form-select">
            <option value="Verdadero/Falso">Verdadero/Falso</option>
            <option value="Selección Única">Selección Única</option>
            <option value="Selección Múltiple">Selección Múltiple</option>
          </select>
        </div>

        <!-- Texto de la Pregunta -->
        <div class="mb-4">
          <label for="textoPregunta" class="form-label fw-bold">Texto de la Pregunta</label>
          <input type="text" id="textoPregunta" name="texto" class="form-control" placeholder="Escribe la pregunta..." required>
        </div>

        <!-- Respuesta Correcta -->
        <div class="mb-4">
          <label for="respuestaCorrecta" class="form-label fw-bold">Respuesta Correcta</label>
          <select id="respuestaCorrecta" name="respuestaCorrecta" class="form-select">
            <option value="true">Verdadero</option>
            <option value="false">Falso</option>
          </select>
        </div>

        <!-- Botones -->
        <div class="d-flex justify-content-between">
          <button type="submit" class="btn btn-success">Guardar Pregunta</button>
          <a href="/preguntas" class="btn btn-secondary">Cancelar</a>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const tipoSelect = document.getElementById('tipoPregunta');
    const tipoFields = document.querySelectorAll('.tipo-fields');

    tipoSelect.addEventListener('change', function () {
      tipoFields.forEach(field => field.classList.add('d-none'));
      const selectedType = tipoSelect.value;
      const selectedField = document.getElementById(selectedType + 'Fields');
      if (selectedField) {
        selectedField.classList.remove('d-none');
      }
    });
  });
</script>
</body>
</html>